# VotaConCiencia - Backend

Sistema de gesti√≥n de informaci√≥n electoral para Per√∫.

## üöÄ Instalaci√≥n R√°pida

### Requisitos Previos
- Node.js (v14 o superior)
- MySQL Server (v8.0 o superior)
- npm o yarn

### Paso 1: Clonar el Repositorio
```bash
git clone <tu-repositorio>
cd votaconciencia/backend
```

### Paso 2: Instalar Dependencias
```bash
npm install
```

### Paso 3: Configurar Variables de Entorno

Crea un archivo `.env` en la ra√≠z del proyecto backend con el siguiente contenido:

```env
# Configuraci√≥n de Base de Datos
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=tu_contrase√±a_mysql
DB_DATABASE=votaconciencia_db

# Puerto del Servidor
PORT=3000

# JWT Secret (genera uno aleatorio para producci√≥n)
JWT_SECRET=tu_clave_secreta_jwt_muy_segura

# OpenAI API (opcional, para funcionalidad de IA)
OPENAI_API_KEY=tu_api_key_de_openai
```

### Paso 4: Inicializar Base de Datos

**OPCI√ìN A - Autom√°tico (Recomendado):**

El servidor inicializar√° autom√°ticamente la base de datos al ejecutarse por primera vez:

```bash
npm start
# o para desarrollo con auto-reload:
npm run dev
```

**OPCI√ìN B - Manual:**

Si prefieres inicializar la base de datos manualmente antes de iniciar el servidor:

```bash
npm run setup
```

## ‚ú® ¬øQu√© se Crea Autom√°ticamente?

Al ejecutar el proyecto por primera vez, se crear√°n:

### üì¶ Base de Datos
- Nombre: `votaconciencia_db` (seg√∫n tu `.env`)

### üìã Tablas
1. `administradores` - Usuarios del panel administrativo
2. `partidos` - Partidos pol√≠ticos
3. `candidatos` - Informaci√≥n de candidatos
4. `historial_politico` - Trayectoria pol√≠tica de candidatos
5. `temas` - Temas de propuestas (Salud, Educaci√≥n, etc.)
6. `propuestas` - Propuestas de candidatos por tema
7. `recursos_educativos` - Contenido educativo
8. `eventos_cronograma` - Cronograma electoral
9. `trivia_temas` - Categor√≠as de trivia
10. `trivia_preguntas` - Preguntas de trivia
11. `trivia_opciones` - Opciones de respuesta

### üë• Usuarios Administradores por Defecto

**Superadministradores:**
- Email: `superadmin1@votaconciencia.pe`
- Email: `superadmin2@votaconciencia.pe`
- Email: `superadmin3@votaconciencia.pe`
- Contrase√±a: `superadmin123`

**Editores:**
- Email: `editor1@votaconciencia.pe`
- Email: `editor2@votaconciencia.pe`
- Email: `editor3@votaconciencia.pe`
- Contrase√±a: `editor123`

‚ö†Ô∏è **IMPORTANTE:** Cambia estas contrase√±as inmediatamente en producci√≥n.

## üõ†Ô∏è Scripts Disponibles

```bash
# Desarrollo con auto-reload
npm run dev

# Producci√≥n
npm start

# Inicializar/Resetear base de datos manualmente
npm run setup
```

## üîê Credenciales de Acceso

Las credenciales se mostrar√°n en la consola al iniciar el servidor por primera vez.

## üìù Notas Importantes

1. **Archivo `.env`**: NO subir a Git. Ya est√° en `.gitignore`
2. **Carpeta `uploads/`**: NO subir a Git. Contiene archivos de usuarios
3. **Contrase√±as por defecto**: Cambiar inmediatamente en producci√≥n
4. **Base de datos**: Hacer backups regulares
 